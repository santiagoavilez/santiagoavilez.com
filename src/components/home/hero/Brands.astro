---
import BrandsCarrousel from "./BrandsCarrousel";

const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/hero/brands/*.{jpeg,jpg,png,gif,webp,svg}"
);

// Resolver las imÃ¡genes y preparar los datos
const brandsResolved = await Promise.all(
  Object.values(images).map(async (image) => {
    const img = await image();
    const src = img.default.src;
    const alt = src?.split("/").pop()?.split(".")[0];
    return {
      src: src,
      alt: alt,
      width: img.default.width,
      height: img.default.height,
    };
  })
);

interface Props {
  direction?: "forward" | "backward";
}

const { direction } = Astro.props;

---

<BrandsCarrousel
  brands={brandsResolved}
  direction={direction}
  client:only="react"
/>
